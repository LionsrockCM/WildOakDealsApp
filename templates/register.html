<!DOCTYPE html>
<html>
<head>
    <title>Register</title>
</head>
<body>
    <h1>Register</h1>
    <form method="POST">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        <div><label>Username: <input type="text" name="username" required></label></div>
        <div><label>Password: <input type="password" name="password" required></label></div>
        <div><label>Email (optional): <input type="email" name="email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"></label></div>
        <button type="submit">Register</button>
        {% if error %}
            <p style="color: red;">{{ error }}</p>
        {% endif %}
        <p>Already have an account? <a href="{{ url_for('login') }}">Login</a></p>
    </form>
</body>
</html>